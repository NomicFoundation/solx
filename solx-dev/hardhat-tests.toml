# Hardhat project test configuration.
#
# Compilers:
#   [compilers.<id>]
#   name = "00.solc"              # Display name in reports (hyphens become newlines)
#   path = "./path/to/compiler"   # Path to compiler executable
#   description = "..."           # Compiler description
#   solidity_version = "0.8.30"   # Override Solidity version (optional)
#   is_correctness_reference = true/false  # Reference for correctness checks
#   is_correctness_candidate = true/false  # Candidate for correctness checks
#   disabled = true/false         # Whether to skip this compiler
#
# Projects:
#   [projects.<name>]
#   url = "https://github.com/..."  # Git repository URL
#   commit = "abc123..."            # Git commit SHA to pin (optional, HEAD if omitted)
#   description = "..."             # Project description
#   build_system = "npm"            # npm, yarn, pnpm, or bun (default: npm)
#   dependencies = ["pkg@version"]  # Additional npm dependencies to install
#   disabled = true/false           # Whether to skip this project
#   [projects.<name>.env]
#   VAR = "value"                   # Environment variables for build/test
#
# Comparisons:
#   [[comparisons]]
#   left = "03.solx-legacy"         # Left toolchain: {compiler.name}-{codegen}
#   right = "02.solx-main-legacy"   # Right toolchain: {compiler.name}-{codegen}
#   disabled = true/false           # Whether to skip this comparison

[compilers.solc]
name = "00.solc-0.8.34"
path = "./temp-compilers/solc-0.8.34"
description = "solc the latest downloaded from the official repo"
disabled = true

[compilers.solx-latest]
name = "01.solx-latest"
path = "./temp-compilers/solx-latest"
description = "solx downloaded from the latest release"
solidity_version = "0.8.30"
disabled = true

[compilers.solx-main]
name = "02.solx-main"
path = "./temp-solx-main/target/release/solx"
description = "solx built from the main branch"
is_correctness_reference = true
disabled = false

[compilers.solx]
name = "03.solx"
path = "./target/release/solx"
description = "solx built from the current commit"
is_correctness_candidate = true
disabled = false

# Comparisons for Excel diff columns.
# Each comparison generates a diff column showing (left - right) / right as percentage.
# The 'left' and 'right' values should match the full toolchain name: "{compiler.name}-{codegen}".
# Comparisons are only included if both referenced compilers are enabled.
[[comparisons]]
left = "03.solx-legacy"
right = "01.solx-latest-legacy"
disabled = true

[[comparisons]]
left = "03.solx-viaIR"
right = "01.solx-latest-viaIR"
disabled = true

[[comparisons]]
left = "03.solx-legacy"
right = "02.solx-main-legacy"
disabled = false

[[comparisons]]
left = "03.solx-viaIR"
right = "02.solx-main-viaIR"
disabled = false

[[comparisons]]
left = "03.solx-legacy"
right = "00.solc-0.8.34-legacy"
disabled = false

[[comparisons]]
left = "03.solx-viaIR"
right = "00.solc-0.8.34-viaIR"
disabled = false

[projects.hardhat-v2]
url = "https://github.com/antonbaliasnikov/hardhat-template"
commit = "05f2ce84c7da0ce4ce986107c15cb7a197e04daf"
description = "An example Hardhat v2 project with solx support."
build_system = "bun"
dependencies = [ "hardhat@2.20.1" ]

[projects.hardhat-v3]
url = "https://github.com/antonbaliasnikov/solx-hh3"
commit = "bfe0366f7f5936ec9e5e76fa37fe21d284a53c88"
description = "An example Hardhat v3 project with solx support."
dependencies = [ "ts-node" ]

[projects.openzeppelin]
url = "https://github.com/antonbaliasnikov/openzeppelin-contracts"
commit = "bd3c4ba5d950860ecd957a84acc65083c3aec20e"
description = "A library for secure smart contract development."
build_system = "pnpm"
dependencies = [ "hardhat@2.20.1" ]
[projects.openzeppelin.env]
EVM_DISABLE_MEMORY_SAFE_ASM_CHECK = "true"

[projects.zksafe]
url = "https://github.com/antonbaliasnikov/zksafe"
commit = "4f2d7db24d114367c32f1f9b6be62ace160edba6"
description = "A Safe module for privacy of Safe transaction signing."
build_system = "pnpm"
disabled = true # some verification failures
[projects.zksafe.env]
EVM_DISABLE_MEMORY_SAFE_ASM_CHECK = "true"

[projects.ens-contracts]
url = "https://github.com/antonbaliasnikov/ens-contracts"
commit = "85ddeb9ff8def53e580a1fa70b156fe1c88775da"
description = "The core contracts of the ENS protocol."
build_system = "bun"
disabled = true

[projects.olympus]
url = "https://github.com/antonbaliasnikov/olympus-contracts"
commit = "825a5e49ba21c3a15c2335584bb58bd3ced435e7"
description = "A collection of contracts for Olympus DAO."
build_system = "yarn"
disabled = true

[projects.synthetix]
url = "https://github.com/antonbaliasnikov/synthetix"
commit = "1609d156708eb77025478cbcd92b98de51faf1e3"
description = "A crypto-backed synthetic asset platform."
build_system = "npm"
disabled = true
